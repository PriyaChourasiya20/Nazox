{"ast":null,"code":"'use strict';\n\nvar assign = require('object-assign');\n\nvar Region = require('region-align');\n\nvar hasTouch = require('has-touch');\n\nvar once = require('./utils/once');\n\nvar mobileTest = global.navigator ? /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(global.navigator.userAgent) : false;\nvar isMobile = hasTouch && mobileTest;\n\nvar Helper = function (config) {\n  this.config = config;\n};\n\nvar EVENTS = {\n  move: isMobile ? 'touchmove' : 'mousemove',\n  up: isMobile ? 'touchend' : 'mouseup'\n};\n\nfunction emptyFn() {}\n\nfunction getPageCoords(event) {\n  var firstTouch;\n  var pageX = event.pageX;\n  var pageY = event.pageY;\n\n  if (isMobile && event.touches && (firstTouch = event.touches[0])) {\n    pageX = firstTouch.pageX;\n    pageY = firstTouch.pageY;\n  }\n\n  return {\n    pageX: pageX,\n    pageY: pageY\n  };\n}\n\nassign(Helper.prototype, {\n  /**\n   * Should be called on a mousedown event\n   *\n   * @param  {Event} event\n   * @return {[type]}       [description]\n   */\n  initDrag: function (event) {\n    this.onDragInit(event);\n    var events = this.config.events || EVENTS;\n    var onDragStart = once(this.onDragStart, this);\n    var target = isMobile ? event.target : global;\n\n    var mouseMoveListener = function (event) {\n      onDragStart(event);\n      this.onDrag(event);\n    }.bind(this);\n\n    var mouseUpListener = function (event) {\n      this.onDrop(event);\n      target.removeEventListener(events.move, mouseMoveListener);\n      target.removeEventListener(events.up, mouseUpListener);\n    }.bind(this);\n\n    target.addEventListener(events.move, mouseMoveListener, false);\n    target.addEventListener(events.up, mouseUpListener);\n  },\n  onDragInit: function (event) {\n    var config = {\n      diff: {\n        left: 0,\n        top: 0\n      }\n    };\n    this.state = {\n      config: config\n    };\n\n    if (this.config.region) {\n      this.state.initialRegion = Region.from(this.config.region);\n      this.state.dragRegion = config.dragRegion = this.state.initialRegion.clone();\n    }\n\n    if (this.config.constrainTo) {\n      this.state.constrainTo = Region.from(this.config.constrainTo);\n    }\n\n    this.callConfig('onDragInit', event);\n  },\n\n  /**\n   * Called when the first mousemove event occurs after drag is initialized\n   * @param  {Event} event\n   */\n  onDragStart: function (event) {\n    this.state.initPageCoords = getPageCoords(event);\n    this.state.didDrag = this.state.config.didDrag = true;\n    this.callConfig('onDragStart', event);\n  },\n\n  /**\n   * Called on all mousemove events after drag is initialized.\n   *\n   * @param  {Event} event\n   */\n  onDrag: function (event) {\n    var config = this.state.config;\n    var initPageCoords = this.state.initPageCoords;\n    var eventCoords = getPageCoords(event);\n    var diff = config.diff = {\n      left: eventCoords.pageX - initPageCoords.pageX,\n      top: eventCoords.pageY - initPageCoords.pageY\n    };\n\n    if (this.state.initialRegion) {\n      var dragRegion = config.dragRegion; //set the dragRegion to initial coords\n\n      dragRegion.set(this.state.initialRegion); //shift it to the new position\n\n      dragRegion.shift(diff);\n\n      if (this.state.constrainTo) {\n        //and finally constrain it if it's the case\n        var boolConstrained = dragRegion.constrainTo(this.state.constrainTo);\n        diff.left = dragRegion.left - this.state.initialRegion.left;\n        diff.top = dragRegion.top - this.state.initialRegion.top; // console.log(diff);\n      }\n\n      config.dragRegion = dragRegion;\n    }\n\n    this.callConfig('onDrag', event);\n  },\n\n  /**\n   * Called on the mouseup event on window\n   *\n   * @param  {Event} event\n   */\n  onDrop: function (event) {\n    this.callConfig('onDrop', event);\n    this.state = null;\n  },\n  callConfig: function (fnName, event) {\n    var config = this.state.config;\n    var args = [event, config];\n    var fn = this.config[fnName];\n\n    if (fn) {\n      fn.apply(this, args);\n    }\n  }\n});\n\nmodule.exports = function (event, config) {\n  if (config.scope) {\n    var skippedKeys = {\n      scope: 1,\n      region: 1,\n      constrainTo: 1\n    };\n    Object.keys(config).forEach(function (key) {\n      var value = config[key];\n\n      if (key in skippedKeys) {\n        return;\n      }\n\n      if (typeof value == 'function') {\n        config[key] = value.bind(config.scope);\n      }\n    });\n  }\n\n  var helper = new Helper(config);\n  helper.initDrag(event);\n  return helper;\n};","map":{"version":3,"names":["assign","require","Region","hasTouch","once","mobileTest","global","navigator","test","userAgent","isMobile","Helper","config","EVENTS","move","up","emptyFn","getPageCoords","event","firstTouch","pageX","pageY","touches","prototype","initDrag","onDragInit","events","onDragStart","target","mouseMoveListener","onDrag","bind","mouseUpListener","onDrop","removeEventListener","addEventListener","diff","left","top","state","region","initialRegion","from","dragRegion","clone","constrainTo","callConfig","initPageCoords","didDrag","eventCoords","set","shift","boolConstrained","fnName","args","fn","apply","module","exports","scope","skippedKeys","Object","keys","forEach","key","value","helper"],"sources":["/home/rovi91/Downloads/copy (new)/node_modules/drag-helper/index.js"],"sourcesContent":["'use strict';\n\nvar assign   = require('object-assign')\nvar Region   = require('region-align')\nvar hasTouch = require('has-touch')\nvar once     = require('./utils/once')\n\nvar mobileTest = global.navigator ?\n    /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(global.navigator.userAgent) :\n    false\n\nvar isMobile = hasTouch && mobileTest;\n\nvar Helper = function(config){\n    this.config = config\n}\n\nvar EVENTS = {\n    move: isMobile? 'touchmove': 'mousemove',\n    up  : isMobile? 'touchend' : 'mouseup'\n}\n\nfunction emptyFn(){}\n\nfunction getPageCoords(event){\n    var firstTouch\n\n    var pageX = event.pageX\n    var pageY = event.pageY\n\n    if (isMobile && event.touches && (firstTouch = event.touches[0])){\n        pageX = firstTouch.pageX\n        pageY = firstTouch.pageY\n    }\n\n    return {\n        pageX: pageX,\n        pageY: pageY\n    }\n}\n\nassign(Helper.prototype, {\n\n    /**\n     * Should be called on a mousedown event\n     *\n     * @param  {Event} event\n     * @return {[type]}       [description]\n     */\n    initDrag: function(event) {\n\n        this.onDragInit(event)\n\n        var events = this.config.events || EVENTS\n\n        var onDragStart = once(this.onDragStart, this)\n        var target = isMobile?\n                        event.target:\n                        global\n\n        var mouseMoveListener = (function(event){\n            onDragStart(event)\n            this.onDrag(event)\n        }).bind(this)\n\n        var mouseUpListener = (function(event){\n\n            this.onDrop(event)\n\n            target.removeEventListener(events.move, mouseMoveListener)\n            target.removeEventListener(events.up, mouseUpListener)\n        }).bind(this)\n\n        target.addEventListener(events.move, mouseMoveListener, false)\n        target.addEventListener(events.up, mouseUpListener)\n    },\n\n    onDragInit: function(event){\n\n        var config = {\n            diff: {\n                left: 0,\n                top : 0\n            }\n        }\n        this.state = {\n            config: config\n        }\n\n        if (this.config.region){\n            this.state.initialRegion = Region.from(this.config.region)\n            this.state.dragRegion =\n                config.dragRegion =\n                    this.state.initialRegion.clone()\n        }\n        if (this.config.constrainTo){\n            this.state.constrainTo = Region.from(this.config.constrainTo)\n        }\n\n        this.callConfig('onDragInit', event)\n    },\n\n    /**\n     * Called when the first mousemove event occurs after drag is initialized\n     * @param  {Event} event\n     */\n    onDragStart: function(event){\n        this.state.initPageCoords = getPageCoords(event)\n\n        this.state.didDrag = this.state.config.didDrag = true\n        this.callConfig('onDragStart', event)\n    },\n\n    /**\n     * Called on all mousemove events after drag is initialized.\n     *\n     * @param  {Event} event\n     */\n    onDrag: function(event){\n\n        var config = this.state.config\n\n        var initPageCoords = this.state.initPageCoords\n        var eventCoords = getPageCoords(event)\n\n        var diff = config.diff = {\n            left: eventCoords.pageX - initPageCoords.pageX,\n            top : eventCoords.pageY - initPageCoords.pageY\n        }\n\n        if (this.state.initialRegion){\n            var dragRegion = config.dragRegion\n\n            //set the dragRegion to initial coords\n            dragRegion.set(this.state.initialRegion)\n\n            //shift it to the new position\n            dragRegion.shift(diff)\n\n            if (this.state.constrainTo){\n                //and finally constrain it if it's the case\n                var boolConstrained = dragRegion.constrainTo(this.state.constrainTo)\n\n                diff.left = dragRegion.left - this.state.initialRegion.left\n                diff.top  = dragRegion.top  - this.state.initialRegion.top\n\n                // console.log(diff);\n            }\n\n            config.dragRegion = dragRegion\n        }\n\n        this.callConfig('onDrag', event)\n    },\n\n    /**\n     * Called on the mouseup event on window\n     *\n     * @param  {Event} event\n     */\n    onDrop: function(event){\n        this.callConfig('onDrop', event)\n\n        this.state = null\n    },\n\n    callConfig: function(fnName, event){\n        var config = this.state.config\n        var args   = [event, config]\n\n        var fn = this.config[fnName]\n\n        if (fn){\n            fn.apply(this, args)\n        }\n    }\n\n})\n\nmodule.exports = function(event, config){\n\n    if (config.scope){\n        var skippedKeys = {\n            scope      : 1,\n            region     : 1,\n            constrainTo: 1\n        }\n\n        Object.keys(config).forEach(function(key){\n            var value = config[key]\n\n            if (key in skippedKeys){\n                return\n            }\n\n            if (typeof value == 'function'){\n                config[key] = value.bind(config.scope)\n            }\n        })\n    }\n    var helper = new Helper(config)\n\n    helper.initDrag(event)\n\n    return helper\n}"],"mappings":"AAAA;;AAEA,IAAIA,MAAM,GAAKC,OAAO,CAAC,eAAD,CAAtB;;AACA,IAAIC,MAAM,GAAKD,OAAO,CAAC,cAAD,CAAtB;;AACA,IAAIE,QAAQ,GAAGF,OAAO,CAAC,WAAD,CAAtB;;AACA,IAAIG,IAAI,GAAOH,OAAO,CAAC,cAAD,CAAtB;;AAEA,IAAII,UAAU,GAAGC,MAAM,CAACC,SAAP,GACb,iEAAiEC,IAAjE,CAAsEF,MAAM,CAACC,SAAP,CAAiBE,SAAvF,CADa,GAEb,KAFJ;AAIA,IAAIC,QAAQ,GAAGP,QAAQ,IAAIE,UAA3B;;AAEA,IAAIM,MAAM,GAAG,UAASC,MAAT,EAAgB;EACzB,KAAKA,MAAL,GAAcA,MAAd;AACH,CAFD;;AAIA,IAAIC,MAAM,GAAG;EACTC,IAAI,EAAEJ,QAAQ,GAAE,WAAF,GAAe,WADpB;EAETK,EAAE,EAAIL,QAAQ,GAAE,UAAF,GAAe;AAFpB,CAAb;;AAKA,SAASM,OAAT,GAAkB,CAAE;;AAEpB,SAASC,aAAT,CAAuBC,KAAvB,EAA6B;EACzB,IAAIC,UAAJ;EAEA,IAAIC,KAAK,GAAGF,KAAK,CAACE,KAAlB;EACA,IAAIC,KAAK,GAAGH,KAAK,CAACG,KAAlB;;EAEA,IAAIX,QAAQ,IAAIQ,KAAK,CAACI,OAAlB,KAA8BH,UAAU,GAAGD,KAAK,CAACI,OAAN,CAAc,CAAd,CAA3C,CAAJ,EAAiE;IAC7DF,KAAK,GAAGD,UAAU,CAACC,KAAnB;IACAC,KAAK,GAAGF,UAAU,CAACE,KAAnB;EACH;;EAED,OAAO;IACHD,KAAK,EAAEA,KADJ;IAEHC,KAAK,EAAEA;EAFJ,CAAP;AAIH;;AAEDrB,MAAM,CAACW,MAAM,CAACY,SAAR,EAAmB;EAErB;AACJ;AACA;AACA;AACA;AACA;EACIC,QAAQ,EAAE,UAASN,KAAT,EAAgB;IAEtB,KAAKO,UAAL,CAAgBP,KAAhB;IAEA,IAAIQ,MAAM,GAAG,KAAKd,MAAL,CAAYc,MAAZ,IAAsBb,MAAnC;IAEA,IAAIc,WAAW,GAAGvB,IAAI,CAAC,KAAKuB,WAAN,EAAmB,IAAnB,CAAtB;IACA,IAAIC,MAAM,GAAGlB,QAAQ,GACLQ,KAAK,CAACU,MADD,GAELtB,MAFhB;;IAIA,IAAIuB,iBAAiB,GAAI,UAASX,KAAT,EAAe;MACpCS,WAAW,CAACT,KAAD,CAAX;MACA,KAAKY,MAAL,CAAYZ,KAAZ;IACH,CAHuB,CAGrBa,IAHqB,CAGhB,IAHgB,CAAxB;;IAKA,IAAIC,eAAe,GAAI,UAASd,KAAT,EAAe;MAElC,KAAKe,MAAL,CAAYf,KAAZ;MAEAU,MAAM,CAACM,mBAAP,CAA2BR,MAAM,CAACZ,IAAlC,EAAwCe,iBAAxC;MACAD,MAAM,CAACM,mBAAP,CAA2BR,MAAM,CAACX,EAAlC,EAAsCiB,eAAtC;IACH,CANqB,CAMnBD,IANmB,CAMd,IANc,CAAtB;;IAQAH,MAAM,CAACO,gBAAP,CAAwBT,MAAM,CAACZ,IAA/B,EAAqCe,iBAArC,EAAwD,KAAxD;IACAD,MAAM,CAACO,gBAAP,CAAwBT,MAAM,CAACX,EAA/B,EAAmCiB,eAAnC;EACH,CAlCoB;EAoCrBP,UAAU,EAAE,UAASP,KAAT,EAAe;IAEvB,IAAIN,MAAM,GAAG;MACTwB,IAAI,EAAE;QACFC,IAAI,EAAE,CADJ;QAEFC,GAAG,EAAG;MAFJ;IADG,CAAb;IAMA,KAAKC,KAAL,GAAa;MACT3B,MAAM,EAAEA;IADC,CAAb;;IAIA,IAAI,KAAKA,MAAL,CAAY4B,MAAhB,EAAuB;MACnB,KAAKD,KAAL,CAAWE,aAAX,GAA2BvC,MAAM,CAACwC,IAAP,CAAY,KAAK9B,MAAL,CAAY4B,MAAxB,CAA3B;MACA,KAAKD,KAAL,CAAWI,UAAX,GACI/B,MAAM,CAAC+B,UAAP,GACI,KAAKJ,KAAL,CAAWE,aAAX,CAAyBG,KAAzB,EAFR;IAGH;;IACD,IAAI,KAAKhC,MAAL,CAAYiC,WAAhB,EAA4B;MACxB,KAAKN,KAAL,CAAWM,WAAX,GAAyB3C,MAAM,CAACwC,IAAP,CAAY,KAAK9B,MAAL,CAAYiC,WAAxB,CAAzB;IACH;;IAED,KAAKC,UAAL,CAAgB,YAAhB,EAA8B5B,KAA9B;EACH,CA3DoB;;EA6DrB;AACJ;AACA;AACA;EACIS,WAAW,EAAE,UAAST,KAAT,EAAe;IACxB,KAAKqB,KAAL,CAAWQ,cAAX,GAA4B9B,aAAa,CAACC,KAAD,CAAzC;IAEA,KAAKqB,KAAL,CAAWS,OAAX,GAAqB,KAAKT,KAAL,CAAW3B,MAAX,CAAkBoC,OAAlB,GAA4B,IAAjD;IACA,KAAKF,UAAL,CAAgB,aAAhB,EAA+B5B,KAA/B;EACH,CAtEoB;;EAwErB;AACJ;AACA;AACA;AACA;EACIY,MAAM,EAAE,UAASZ,KAAT,EAAe;IAEnB,IAAIN,MAAM,GAAG,KAAK2B,KAAL,CAAW3B,MAAxB;IAEA,IAAImC,cAAc,GAAG,KAAKR,KAAL,CAAWQ,cAAhC;IACA,IAAIE,WAAW,GAAGhC,aAAa,CAACC,KAAD,CAA/B;IAEA,IAAIkB,IAAI,GAAGxB,MAAM,CAACwB,IAAP,GAAc;MACrBC,IAAI,EAAEY,WAAW,CAAC7B,KAAZ,GAAoB2B,cAAc,CAAC3B,KADpB;MAErBkB,GAAG,EAAGW,WAAW,CAAC5B,KAAZ,GAAoB0B,cAAc,CAAC1B;IAFpB,CAAzB;;IAKA,IAAI,KAAKkB,KAAL,CAAWE,aAAf,EAA6B;MACzB,IAAIE,UAAU,GAAG/B,MAAM,CAAC+B,UAAxB,CADyB,CAGzB;;MACAA,UAAU,CAACO,GAAX,CAAe,KAAKX,KAAL,CAAWE,aAA1B,EAJyB,CAMzB;;MACAE,UAAU,CAACQ,KAAX,CAAiBf,IAAjB;;MAEA,IAAI,KAAKG,KAAL,CAAWM,WAAf,EAA2B;QACvB;QACA,IAAIO,eAAe,GAAGT,UAAU,CAACE,WAAX,CAAuB,KAAKN,KAAL,CAAWM,WAAlC,CAAtB;QAEAT,IAAI,CAACC,IAAL,GAAYM,UAAU,CAACN,IAAX,GAAkB,KAAKE,KAAL,CAAWE,aAAX,CAAyBJ,IAAvD;QACAD,IAAI,CAACE,GAAL,GAAYK,UAAU,CAACL,GAAX,GAAkB,KAAKC,KAAL,CAAWE,aAAX,CAAyBH,GAAvD,CALuB,CAOvB;MACH;;MAED1B,MAAM,CAAC+B,UAAP,GAAoBA,UAApB;IACH;;IAED,KAAKG,UAAL,CAAgB,QAAhB,EAA0B5B,KAA1B;EACH,CAhHoB;;EAkHrB;AACJ;AACA;AACA;AACA;EACIe,MAAM,EAAE,UAASf,KAAT,EAAe;IACnB,KAAK4B,UAAL,CAAgB,QAAhB,EAA0B5B,KAA1B;IAEA,KAAKqB,KAAL,GAAa,IAAb;EACH,CA3HoB;EA6HrBO,UAAU,EAAE,UAASO,MAAT,EAAiBnC,KAAjB,EAAuB;IAC/B,IAAIN,MAAM,GAAG,KAAK2B,KAAL,CAAW3B,MAAxB;IACA,IAAI0C,IAAI,GAAK,CAACpC,KAAD,EAAQN,MAAR,CAAb;IAEA,IAAI2C,EAAE,GAAG,KAAK3C,MAAL,CAAYyC,MAAZ,CAAT;;IAEA,IAAIE,EAAJ,EAAO;MACHA,EAAE,CAACC,KAAH,CAAS,IAAT,EAAeF,IAAf;IACH;EACJ;AAtIoB,CAAnB,CAAN;;AA0IAG,MAAM,CAACC,OAAP,GAAiB,UAASxC,KAAT,EAAgBN,MAAhB,EAAuB;EAEpC,IAAIA,MAAM,CAAC+C,KAAX,EAAiB;IACb,IAAIC,WAAW,GAAG;MACdD,KAAK,EAAQ,CADC;MAEdnB,MAAM,EAAO,CAFC;MAGdK,WAAW,EAAE;IAHC,CAAlB;IAMAgB,MAAM,CAACC,IAAP,CAAYlD,MAAZ,EAAoBmD,OAApB,CAA4B,UAASC,GAAT,EAAa;MACrC,IAAIC,KAAK,GAAGrD,MAAM,CAACoD,GAAD,CAAlB;;MAEA,IAAIA,GAAG,IAAIJ,WAAX,EAAuB;QACnB;MACH;;MAED,IAAI,OAAOK,KAAP,IAAgB,UAApB,EAA+B;QAC3BrD,MAAM,CAACoD,GAAD,CAAN,GAAcC,KAAK,CAAClC,IAAN,CAAWnB,MAAM,CAAC+C,KAAlB,CAAd;MACH;IACJ,CAVD;EAWH;;EACD,IAAIO,MAAM,GAAG,IAAIvD,MAAJ,CAAWC,MAAX,CAAb;EAEAsD,MAAM,CAAC1C,QAAP,CAAgBN,KAAhB;EAEA,OAAOgD,MAAP;AACH,CA1BD"},"metadata":{},"sourceType":"script"}