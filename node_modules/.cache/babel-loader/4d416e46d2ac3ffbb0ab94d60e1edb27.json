{"ast":null,"code":"'use strict';\n\nvar hasOwn = require('hasown');\n\nvar newify = require('newify');\n\nvar assign = require('object-assign');\n\nvar EventEmitter = require('events').EventEmitter;\n\nvar inherits = require('./inherits');\n\nvar VALIDATE = require('./validate');\n\nvar objectToString = Object.prototype.toString;\n\nvar isObject = function (value) {\n  return objectToString.apply(value) === '[object Object]';\n};\n\nfunction copyList(source, target, list) {\n  if (source) {\n    list.forEach(function (key) {\n      if (hasOwn(source, key)) {\n        target[key] = source[key];\n      }\n    });\n  }\n\n  return target;\n}\n/**\n * @class Region\n *\n * The Region is an abstraction that allows the developer to refer to rectangles on the screen,\n * and move them around, make diffs and unions, detect intersections, compute areas, etc.\n *\n * ## Creating a region\n *      var region = require('region')({\n *          top  : 10,\n *          left : 10,\n *          bottom: 100,\n *          right : 100\n *      })\n *      //this region is a square, 90x90, starting from (10,10) to (100,100)\n *\n *      var second = require('region')({ top: 10, left: 100, right: 200, bottom: 60})\n *      var union  = region.getUnion(second)\n *\n *      //the \"union\" region is a union between \"region\" and \"second\"\n */\n\n\nvar POINT_POSITIONS = {\n  cy: 'YCenter',\n  cx: 'XCenter',\n  t: 'Top',\n  tc: 'TopCenter',\n  tl: 'TopLeft',\n  tr: 'TopRight',\n  b: 'Bottom',\n  bc: 'BottomCenter',\n  bl: 'BottomLeft',\n  br: 'BottomRight',\n  l: 'Left',\n  lc: 'LeftCenter',\n  r: 'Right',\n  rc: 'RightCenter',\n  c: 'Center'\n};\n/**\n * @constructor\n *\n * Construct a new Region.\n *\n * Example:\n *\n *      var r = new Region({ top: 10, left: 20, bottom: 100, right: 200 })\n *\n *      //or, the same, but with numbers (can be used with new or without)\n *\n *      r = Region(10, 200, 100, 20)\n *\n *      //or, with width and height\n *\n *      r = Region({ top: 10, left: 20, width: 180, height: 90})\n *\n * @param {Number|Object} top The top pixel position, or an object with top, left, bottom, right properties. If an object is passed,\n * instead of having bottom and right, it can have width and height.\n *\n * @param {Number} right The right pixel position\n * @param {Number} bottom The bottom pixel position\n * @param {Number} left The left pixel position\n *\n * @return {Region} this\n */\n\nvar REGION = function (top, right, bottom, left) {\n  if (!(this instanceof REGION)) {\n    return newify(REGION, arguments);\n  }\n\n  EventEmitter.call(this);\n\n  if (isObject(top)) {\n    copyList(top, this, ['top', 'right', 'bottom', 'left']);\n\n    if (top.bottom == null && top.height != null) {\n      this.bottom = this.top + top.height;\n    }\n\n    if (top.right == null && top.width != null) {\n      this.right = this.left + top.width;\n    }\n\n    if (top.emitChangeEvents) {\n      this.emitChangeEvents = top.emitChangeEvents;\n    }\n  } else {\n    this.top = top;\n    this.right = right;\n    this.bottom = bottom;\n    this.left = left;\n  }\n\n  this[0] = this.left;\n  this[1] = this.top;\n  VALIDATE(this);\n};\n\ninherits(REGION, EventEmitter);\nassign(REGION.prototype, {\n  /**\n   * @cfg {Boolean} emitChangeEvents If this is set to true, the region\n   * will emit 'changesize' and 'changeposition' whenever the size or the position changs\n   */\n  emitChangeEvents: false,\n\n  /**\n   * Returns this region, or a clone of this region\n   * @param  {Boolean} [clone] If true, this method will return a clone of this region\n   * @return {Region}       This region, or a clone of this\n   */\n  getRegion: function (clone) {\n    return clone ? this.clone() : this;\n  },\n\n  /**\n   * Sets the properties of this region to those of the given region\n   * @param {Region/Object} reg The region or object to use for setting properties of this region\n   * @return {Region} this\n   */\n  setRegion: function (reg) {\n    if (reg instanceof REGION) {\n      this.set(reg.get());\n    } else {\n      this.set(reg);\n    }\n\n    return this;\n  },\n\n  /**\n   * Returns true if this region is valid, false otherwise\n   *\n   * @param  {Region} region The region to check\n   * @return {Boolean}        True, if the region is valid, false otherwise.\n   * A region is valid if\n   *  * left <= right  &&\n   *  * top  <= bottom\n   */\n  validate: function () {\n    return REGION.validate(this);\n  },\n  _before: function () {\n    if (this.emitChangeEvents) {\n      return copyList(this, {}, ['left', 'top', 'bottom', 'right']);\n    }\n  },\n  _after: function (before) {\n    if (this.emitChangeEvents) {\n      if (this.top != before.top || this.left != before.left) {\n        this.emitPositionChange();\n      }\n\n      if (this.right != before.right || this.bottom != before.bottom) {\n        this.emitSizeChange();\n      }\n    }\n  },\n  notifyPositionChange: function () {\n    this.emit('changeposition', this);\n  },\n  emitPositionChange: function () {\n    this.notifyPositionChange();\n  },\n  notifySizeChange: function () {\n    this.emit('changesize', this);\n  },\n  emitSizeChange: function () {\n    this.notifySizeChange();\n  },\n\n  /**\n   * Add the given amounts to each specified side. Example\n   *\n   *      region.add({\n   *          top: 50,    //add 50 px to the top side\n   *          bottom: -100    //substract 100 px from the bottom side\n   *      })\n   *\n   * @param {Object} directions\n   * @param {Number} [directions.top]\n   * @param {Number} [directions.left]\n   * @param {Number} [directions.bottom]\n   * @param {Number} [directions.right]\n   *\n   * @return {Region} this\n   */\n  add: function (directions) {\n    var before = this._before();\n\n    var direction;\n\n    for (direction in directions) if (hasOwn(directions, direction)) {\n      this[direction] += directions[direction];\n    }\n\n    this[0] = this.left;\n    this[1] = this.top;\n\n    this._after(before);\n\n    return this;\n  },\n\n  /**\n   * The same as {@link #add}, but substracts the given values\n   * @param {Object} directions\n   * @param {Number} [directions.top]\n   * @param {Number} [directions.left]\n   * @param {Number} [directions.bottom]\n   * @param {Number} [directions.right]\n   *\n   * @return {Region} this\n   */\n  substract: function (directions) {\n    var before = this._before();\n\n    var direction;\n\n    for (direction in directions) if (hasOwn(directions, direction)) {\n      this[direction] -= directions[direction];\n    }\n\n    this[0] = this.left;\n    this[1] = this.top;\n\n    this._after(before);\n\n    return this;\n  },\n\n  /**\n   * Retrieves the size of the region.\n   * @return {Object} An object with {width, height}, corresponding to the width and height of the region\n   */\n  getSize: function () {\n    return {\n      width: this.width,\n      height: this.height\n    };\n  },\n\n  /**\n   * Move the region to the given position and keeps the region width and height.\n   *\n   * @param {Object} position An object with {top, left} properties. The values in {top,left} are used to move the region by the given amounts.\n   * @param {Number} [position.left]\n   * @param {Number} [position.top]\n   *\n   * @return {Region} this\n   */\n  setPosition: function (position) {\n    var width = this.width;\n    var height = this.height;\n\n    if (position.left != undefined) {\n      position.right = position.left + width;\n    }\n\n    if (position.top != undefined) {\n      position.bottom = position.top + height;\n    }\n\n    return this.set(position);\n  },\n\n  /**\n   * Sets both the height and the width of this region to the given size.\n   *\n   * @param {Number} size The new size for the region\n   * @return {Region} this\n   */\n  setSize: function (size) {\n    if (size.height != undefined && size.width != undefined) {\n      return this.set({\n        right: this.left + size.width,\n        bottom: this.top + size.height\n      });\n    }\n\n    if (size.width != undefined) {\n      this.setWidth(size.width);\n    }\n\n    if (size.height != undefined) {\n      this.setHeight(size.height);\n    }\n\n    return this;\n  },\n\n  /**\n   * @chainable\n   *\n   * Sets the width of this region\n   * @param {Number} width The new width for this region\n   * @return {Region} this\n   */\n  setWidth: function (width) {\n    return this.set({\n      right: this.left + width\n    });\n  },\n\n  /**\n   * @chainable\n   *\n   * Sets the height of this region\n   * @param {Number} height The new height for this region\n   * @return {Region} this\n   */\n  setHeight: function (height) {\n    return this.set({\n      bottom: this.top + height\n    });\n  },\n\n  /**\n   * Sets the given properties on this region\n   *\n   * @param {Object} directions an object containing top, left, and EITHER bottom, right OR width, height\n   * @param {Number} [directions.top]\n   * @param {Number} [directions.left]\n   *\n   * @param {Number} [directions.bottom]\n   * @param {Number} [directions.right]\n   *\n   * @param {Number} [directions.width]\n   * @param {Number} [directions.height]\n   *\n   *\n   * @return {Region} this\n   */\n  set: function (directions) {\n    var before = this._before();\n\n    copyList(directions, this, ['left', 'top', 'bottom', 'right']);\n\n    if (directions.bottom == null && directions.height != null) {\n      this.bottom = this.top + directions.height;\n    }\n\n    if (directions.right == null && directions.width != null) {\n      this.right = this.left + directions.width;\n    }\n\n    this[0] = this.left;\n    this[1] = this.top;\n\n    this._after(before);\n\n    return this;\n  },\n\n  /**\n   * Retrieves the given property from this region. If no property is given, return an object\n   * with {left, top, right, bottom}\n   *\n   * @param {String} [dir] the property to retrieve from this region\n   * @return {Number/Object}\n   */\n  get: function (dir) {\n    return dir ? this[dir] : copyList(this, {}, ['left', 'right', 'top', 'bottom']);\n  },\n\n  /**\n   * Shifts this region to either top, or left or both.\n   * Shift is similar to {@link #add} by the fact that it adds the given dimensions to top/left sides, but also adds the given dimensions\n   * to bottom and right\n   *\n   * @param {Object} directions\n   * @param {Number} [directions.top]\n   * @param {Number} [directions.left]\n   *\n   * @return {Region} this\n   */\n  shift: function (directions) {\n    var before = this._before();\n\n    if (directions.top) {\n      this.top += directions.top;\n      this.bottom += directions.top;\n    }\n\n    if (directions.left) {\n      this.left += directions.left;\n      this.right += directions.left;\n    }\n\n    this[0] = this.left;\n    this[1] = this.top;\n\n    this._after(before);\n\n    return this;\n  },\n\n  /**\n   * Same as {@link #shift}, but substracts the given values\n   * @chainable\n   *\n   * @param {Object} directions\n   * @param {Number} [directions.top]\n   * @param {Number} [directions.left]\n   *\n   * @return {Region} this\n   */\n  unshift: function (directions) {\n    if (directions.top) {\n      directions.top *= -1;\n    }\n\n    if (directions.left) {\n      directions.left *= -1;\n    }\n\n    return this.shift(directions);\n  },\n\n  /**\n   * Compare this region and the given region. Return true if they have all the same size and position\n   * @param  {Region} region The region to compare with\n   * @return {Boolean}       True if this and region have same size and position\n   */\n  equals: function (region) {\n    return this.equalsPosition(region) && this.equalsSize(region);\n  },\n\n  /**\n   * Returns true if this region has the same bottom,right properties as the given region\n   * @param  {Region/Object} size The region to compare against\n   * @return {Boolean}       true if this region is the same size as the given size\n   */\n  equalsSize: function (size) {\n    var isInstance = size instanceof REGION;\n    var s = {\n      width: size.width == null && isInstance ? size.getWidth() : size.width,\n      height: size.height == null && isInstance ? size.getHeight() : size.height\n    };\n    return this.getWidth() == s.width && this.getHeight() == s.height;\n  },\n\n  /**\n   * Returns true if this region has the same top,left properties as the given region\n   * @param  {Region} region The region to compare against\n   * @return {Boolean}       true if this.top == region.top and this.left == region.left\n   */\n  equalsPosition: function (region) {\n    return this.top == region.top && this.left == region.left;\n  },\n\n  /**\n   * Adds the given ammount to the left side of this region\n   * @param {Number} left The ammount to add\n   * @return {Region} this\n   */\n  addLeft: function (left) {\n    var before = this._before();\n\n    this.left = this[0] = this.left + left;\n\n    this._after(before);\n\n    return this;\n  },\n\n  /**\n   * Adds the given ammount to the top side of this region\n   * @param {Number} top The ammount to add\n   * @return {Region} this\n   */\n  addTop: function (top) {\n    var before = this._before();\n\n    this.top = this[1] = this.top + top;\n\n    this._after(before);\n\n    return this;\n  },\n\n  /**\n   * Adds the given ammount to the bottom side of this region\n   * @param {Number} bottom The ammount to add\n   * @return {Region} this\n   */\n  addBottom: function (bottom) {\n    var before = this._before();\n\n    this.bottom += bottom;\n\n    this._after(before);\n\n    return this;\n  },\n\n  /**\n   * Adds the given ammount to the right side of this region\n   * @param {Number} right The ammount to add\n   * @return {Region} this\n   */\n  addRight: function (right) {\n    var before = this._before();\n\n    this.right += right;\n\n    this._after(before);\n\n    return this;\n  },\n\n  /**\n   * Minimize the top side.\n   * @return {Region} this\n   */\n  minTop: function () {\n    return this.expand({\n      top: 1\n    });\n  },\n\n  /**\n   * Minimize the bottom side.\n   * @return {Region} this\n   */\n  maxBottom: function () {\n    return this.expand({\n      bottom: 1\n    });\n  },\n\n  /**\n   * Minimize the left side.\n   * @return {Region} this\n   */\n  minLeft: function () {\n    return this.expand({\n      left: 1\n    });\n  },\n\n  /**\n   * Maximize the right side.\n   * @return {Region} this\n   */\n  maxRight: function () {\n    return this.expand({\n      right: 1\n    });\n  },\n\n  /**\n   * Expands this region to the dimensions of the given region, or the document region, if no region is expanded.\n   * But only expand the given sides (any of the four can be expanded).\n   *\n   * @param {Object} directions\n   * @param {Boolean} [directions.top]\n   * @param {Boolean} [directions.bottom]\n   * @param {Boolean} [directions.left]\n   * @param {Boolean} [directions.right]\n   *\n   * @param {Region} [region] the region to expand to, defaults to the document region\n   * @return {Region} this region\n   */\n  expand: function (directions, region) {\n    var docRegion = region || REGION.getDocRegion();\n    var list = [];\n    var direction;\n\n    var before = this._before();\n\n    for (direction in directions) if (hasOwn(directions, direction)) {\n      list.push(direction);\n    }\n\n    copyList(docRegion, this, list);\n    this[0] = this.left;\n    this[1] = this.top;\n\n    this._after(before);\n\n    return this;\n  },\n\n  /**\n   * Returns a clone of this region\n   * @return {Region} A new region, with the same position and dimension as this region\n   */\n  clone: function () {\n    return new REGION({\n      top: this.top,\n      left: this.left,\n      right: this.right,\n      bottom: this.bottom\n    });\n  },\n\n  /**\n   * Returns true if this region contains the given point\n   * @param {Number/Object} x the x coordinate of the point\n   * @param {Number} [y] the y coordinate of the point\n   *\n   * @return {Boolean} true if this region constains the given point, false otherwise\n   */\n  containsPoint: function (x, y) {\n    if (arguments.length == 1) {\n      y = x.y;\n      x = x.x;\n    }\n\n    return this.left <= x && x <= this.right && this.top <= y && y <= this.bottom;\n  },\n\n  /**\n   *\n   * @param region\n   *\n   * @return {Boolean} true if this region contains the given region, false otherwise\n   */\n  containsRegion: function (region) {\n    return this.containsPoint(region.left, region.top) && this.containsPoint(region.right, region.bottom);\n  },\n\n  /**\n   * Returns an object with the difference for {top, bottom} positions betwen this and the given region,\n   *\n   * See {@link #diff}\n   * @param  {Region} region The region to use for diff\n   * @return {Object}        {top,bottom}\n   */\n  diffHeight: function (region) {\n    return this.diff(region, {\n      top: true,\n      bottom: true\n    });\n  },\n\n  /**\n   * Returns an object with the difference for {left, right} positions betwen this and the given region,\n   *\n   * See {@link #diff}\n   * @param  {Region} region The region to use for diff\n   * @return {Object}        {left,right}\n   */\n  diffWidth: function (region) {\n    return this.diff(region, {\n      left: true,\n      right: true\n    });\n  },\n\n  /**\n   * Returns an object with the difference in sizes for the given directions, between this and region\n   *\n   * @param  {Region} region     The region to use for diff\n   * @param  {Object} directions An object with the directions to diff. Can have any of the following keys:\n   *  * left\n   *  * right\n   *  * top\n   *  * bottom\n   *\n   * @return {Object} and object with the same keys as the directions object, but the values being the\n   * differences between this region and the given region\n   */\n  diff: function (region, directions) {\n    var result = {};\n    var dirName;\n\n    for (dirName in directions) if (hasOwn(directions, dirName)) {\n      result[dirName] = this[dirName] - region[dirName];\n    }\n\n    return result;\n  },\n\n  /**\n   * Returns the position, in {left,top} properties, of this region\n   *\n   * @return {Object} {left,top}\n   */\n  getPosition: function () {\n    return {\n      left: this.left,\n      top: this.top\n    };\n  },\n\n  /**\n   * Returns the point at the given position from this region.\n   *\n   * @param {String} position Any of:\n   *\n   *  * 'cx' - See {@link #getPointXCenter}\n   *  * 'cy' - See {@link #getPointYCenter}\n   *  * 'b'  - See {@link #getPointBottom}\n   *  * 'bc' - See {@link #getPointBottomCenter}\n   *  * 'l'  - See {@link #getPointLeft}F\n   *  * 'lc' - See {@link #getPointLeftCenter}\n   *  * 't'  - See {@link #getPointTop}\n   *  * 'tc' - See {@link #getPointTopCenter}\n   *  * 'r'  - See {@link #getPointRight}\n   *  * 'rc' - See {@link #getPointRightCenter}\n   *  * 'c'  - See {@link #getPointCenter}\n   *  * 'tl' - See {@link #getPointTopLeft}\n   *  * 'bl' - See {@link #getPointBottomLeft}\n   *  * 'br' - See {@link #getPointBottomRight}\n   *  * 'tr' - See {@link #getPointTopRight}\n   *\n   * @param {Boolean} asLeftTop\n   *\n   * @return {Object} either an object with {x,y} or {left,top} if asLeftTop is true\n   */\n  getPoint: function (position, asLeftTop) {\n    //<debug>\n    if (!POINT_POSITIONS[position]) {\n      console.warn('The position ', position, ' could not be found! Available options are tl, bl, tr, br, l, r, t, b.');\n    } //</debug>\n\n\n    var method = 'getPoint' + POINT_POSITIONS[position],\n        result = this[method]();\n\n    if (asLeftTop) {\n      return {\n        left: result.x,\n        top: result.y\n      };\n    }\n\n    return result;\n  },\n\n  /**\n   * Returns a point with x = null and y being the middle of the left region segment\n   * @return {Object} {x,y}\n   */\n  getPointYCenter: function () {\n    return {\n      x: null,\n      y: this.top + this.getHeight() / 2\n    };\n  },\n\n  /**\n   * Returns a point with y = null and x being the middle of the top region segment\n   * @return {Object} {x,y}\n   */\n  getPointXCenter: function () {\n    return {\n      x: this.left + this.getWidth() / 2,\n      y: null\n    };\n  },\n\n  /**\n   * Returns a point with x = null and y the region top position on the y axis\n   * @return {Object} {x,y}\n   */\n  getPointTop: function () {\n    return {\n      x: null,\n      y: this.top\n    };\n  },\n\n  /**\n   * Returns a point that is the middle point of the region top segment\n   * @return {Object} {x,y}\n   */\n  getPointTopCenter: function () {\n    return {\n      x: this.left + this.getWidth() / 2,\n      y: this.top\n    };\n  },\n\n  /**\n   * Returns a point that is the top-left point of the region\n   * @return {Object} {x,y}\n   */\n  getPointTopLeft: function () {\n    return {\n      x: this.left,\n      y: this.top\n    };\n  },\n\n  /**\n   * Returns a point that is the top-right point of the region\n   * @return {Object} {x,y}\n   */\n  getPointTopRight: function () {\n    return {\n      x: this.right,\n      y: this.top\n    };\n  },\n\n  /**\n   * Returns a point with x = null and y the region bottom position on the y axis\n   * @return {Object} {x,y}\n   */\n  getPointBottom: function () {\n    return {\n      x: null,\n      y: this.bottom\n    };\n  },\n\n  /**\n   * Returns a point that is the middle point of the region bottom segment\n   * @return {Object} {x,y}\n   */\n  getPointBottomCenter: function () {\n    return {\n      x: this.left + this.getWidth() / 2,\n      y: this.bottom\n    };\n  },\n\n  /**\n   * Returns a point that is the bottom-left point of the region\n   * @return {Object} {x,y}\n   */\n  getPointBottomLeft: function () {\n    return {\n      x: this.left,\n      y: this.bottom\n    };\n  },\n\n  /**\n   * Returns a point that is the bottom-right point of the region\n   * @return {Object} {x,y}\n   */\n  getPointBottomRight: function () {\n    return {\n      x: this.right,\n      y: this.bottom\n    };\n  },\n\n  /**\n   * Returns a point with y = null and x the region left position on the x axis\n   * @return {Object} {x,y}\n   */\n  getPointLeft: function () {\n    return {\n      x: this.left,\n      y: null\n    };\n  },\n\n  /**\n   * Returns a point that is the middle point of the region left segment\n   * @return {Object} {x,y}\n   */\n  getPointLeftCenter: function () {\n    return {\n      x: this.left,\n      y: this.top + this.getHeight() / 2\n    };\n  },\n\n  /**\n   * Returns a point with y = null and x the region right position on the x axis\n   * @return {Object} {x,y}\n   */\n  getPointRight: function () {\n    return {\n      x: this.right,\n      y: null\n    };\n  },\n\n  /**\n   * Returns a point that is the middle point of the region right segment\n   * @return {Object} {x,y}\n   */\n  getPointRightCenter: function () {\n    return {\n      x: this.right,\n      y: this.top + this.getHeight() / 2\n    };\n  },\n\n  /**\n   * Returns a point that is the center of the region\n   * @return {Object} {x,y}\n   */\n  getPointCenter: function () {\n    return {\n      x: this.left + this.getWidth() / 2,\n      y: this.top + this.getHeight() / 2\n    };\n  },\n\n  /**\n   * @return {Number} returns the height of the region\n   */\n  getHeight: function () {\n    return this.bottom - this.top;\n  },\n\n  /**\n   * @return {Number} returns the width of the region\n   */\n  getWidth: function () {\n    return this.right - this.left;\n  },\n\n  /**\n   * @return {Number} returns the top property of the region\n   */\n  getTop: function () {\n    return this.top;\n  },\n\n  /**\n   * @return {Number} returns the left property of the region\n   */\n  getLeft: function () {\n    return this.left;\n  },\n\n  /**\n   * @return {Number} returns the bottom property of the region\n   */\n  getBottom: function () {\n    return this.bottom;\n  },\n\n  /**\n   * @return {Number} returns the right property of the region\n   */\n  getRight: function () {\n    return this.right;\n  },\n\n  /**\n   * Returns the area of the region\n   * @return {Number} the computed area\n   */\n  getArea: function () {\n    return this.getWidth() * this.getHeight();\n  },\n  constrainTo: function (contrain) {\n    var intersect = this.getIntersection(contrain);\n    var shift;\n\n    if (!intersect || !intersect.equals(this)) {\n      var contrainWidth = contrain.getWidth(),\n          contrainHeight = contrain.getHeight();\n\n      if (this.getWidth() > contrainWidth) {\n        this.left = contrain.left;\n        this.setWidth(contrainWidth);\n      }\n\n      if (this.getHeight() > contrainHeight) {\n        this.top = contrain.top;\n        this.setHeight(contrainHeight);\n      }\n\n      shift = {};\n\n      if (this.right > contrain.right) {\n        shift.left = contrain.right - this.right;\n      }\n\n      if (this.bottom > contrain.bottom) {\n        shift.top = contrain.bottom - this.bottom;\n      }\n\n      if (this.left < contrain.left) {\n        shift.left = contrain.left - this.left;\n      }\n\n      if (this.top < contrain.top) {\n        shift.top = contrain.top - this.top;\n      }\n\n      this.shift(shift);\n      return true;\n    }\n\n    return false;\n  },\n  __IS_REGION: true\n  /**\n   * @property {Number} top\n   */\n\n  /**\n   * @property {Number} right\n   */\n\n  /**\n   * @property {Number} bottom\n   */\n\n  /**\n   * @property {Number} left\n   */\n\n  /**\n   * @property {Number} [0] the top property\n   */\n\n  /**\n   * @property {Number} [1] the left property\n   */\n\n  /**\n   * @method getIntersection\n   * Returns a region that is the intersection of this region and the given region\n   * @param  {Region} region The region to intersect with\n   * @return {Region}        The intersection region\n   */\n\n  /**\n   * @method getUnion\n   * Returns a region that is the union of this region with the given region\n   * @param  {Region} region  The region to make union with\n   * @return {Region}        The union region. The smallest region that contains both this and the given region.\n   */\n\n});\nObject.defineProperties(REGION.prototype, {\n  width: {\n    get: function () {\n      return this.getWidth();\n    },\n    set: function (width) {\n      return this.setWidth(width);\n    }\n  },\n  height: {\n    get: function () {\n      return this.getHeight();\n    },\n    set: function (height) {\n      return this.setHeight(height);\n    }\n  }\n});\n\nrequire('./statics')(REGION);\n\nmodule.exports = REGION;","map":{"version":3,"names":["hasOwn","require","newify","assign","EventEmitter","inherits","VALIDATE","objectToString","Object","prototype","toString","isObject","value","apply","copyList","source","target","list","forEach","key","POINT_POSITIONS","cy","cx","t","tc","tl","tr","b","bc","bl","br","l","lc","r","rc","c","REGION","top","right","bottom","left","arguments","call","height","width","emitChangeEvents","getRegion","clone","setRegion","reg","set","get","validate","_before","_after","before","emitPositionChange","emitSizeChange","notifyPositionChange","emit","notifySizeChange","add","directions","direction","substract","getSize","setPosition","position","undefined","setSize","size","setWidth","setHeight","dir","shift","unshift","equals","region","equalsPosition","equalsSize","isInstance","s","getWidth","getHeight","addLeft","addTop","addBottom","addRight","minTop","expand","maxBottom","minLeft","maxRight","docRegion","getDocRegion","push","containsPoint","x","y","length","containsRegion","diffHeight","diff","diffWidth","result","dirName","getPosition","getPoint","asLeftTop","console","warn","method","getPointYCenter","getPointXCenter","getPointTop","getPointTopCenter","getPointTopLeft","getPointTopRight","getPointBottom","getPointBottomCenter","getPointBottomLeft","getPointBottomRight","getPointLeft","getPointLeftCenter","getPointRight","getPointRightCenter","getPointCenter","getTop","getLeft","getBottom","getRight","getArea","constrainTo","contrain","intersect","getIntersection","contrainWidth","contrainHeight","__IS_REGION","defineProperties","module","exports"],"sources":["/home/rovi91/Downloads/copy (new)/node_modules/region/src/index.js"],"sourcesContent":["'use strict';\n\nvar hasOwn    = require('hasown')\nvar newify    = require('newify')\n\nvar assign      = require('object-assign');\nvar EventEmitter = require('events').EventEmitter\n\nvar inherits = require('./inherits')\nvar VALIDATE = require('./validate')\n\nvar objectToString = Object.prototype.toString\n\nvar isObject = function(value){\n    return objectToString.apply(value) === '[object Object]'\n}\n\nfunction copyList(source, target, list){\n    if (source){\n        list.forEach(function(key){\n            if (hasOwn(source, key)){\n                target[key] = source[key]\n            }\n        })\n    }\n\n    return target\n}\n\n/**\n * @class Region\n *\n * The Region is an abstraction that allows the developer to refer to rectangles on the screen,\n * and move them around, make diffs and unions, detect intersections, compute areas, etc.\n *\n * ## Creating a region\n *      var region = require('region')({\n *          top  : 10,\n *          left : 10,\n *          bottom: 100,\n *          right : 100\n *      })\n *      //this region is a square, 90x90, starting from (10,10) to (100,100)\n *\n *      var second = require('region')({ top: 10, left: 100, right: 200, bottom: 60})\n *      var union  = region.getUnion(second)\n *\n *      //the \"union\" region is a union between \"region\" and \"second\"\n */\n\nvar POINT_POSITIONS = {\n        cy: 'YCenter',\n        cx: 'XCenter',\n        t : 'Top',\n        tc: 'TopCenter',\n        tl: 'TopLeft',\n        tr: 'TopRight',\n        b : 'Bottom',\n        bc: 'BottomCenter',\n        bl: 'BottomLeft',\n        br: 'BottomRight',\n        l : 'Left',\n        lc: 'LeftCenter',\n        r : 'Right',\n        rc: 'RightCenter',\n        c : 'Center'\n    }\n\n/**\n * @constructor\n *\n * Construct a new Region.\n *\n * Example:\n *\n *      var r = new Region({ top: 10, left: 20, bottom: 100, right: 200 })\n *\n *      //or, the same, but with numbers (can be used with new or without)\n *\n *      r = Region(10, 200, 100, 20)\n *\n *      //or, with width and height\n *\n *      r = Region({ top: 10, left: 20, width: 180, height: 90})\n *\n * @param {Number|Object} top The top pixel position, or an object with top, left, bottom, right properties. If an object is passed,\n * instead of having bottom and right, it can have width and height.\n *\n * @param {Number} right The right pixel position\n * @param {Number} bottom The bottom pixel position\n * @param {Number} left The left pixel position\n *\n * @return {Region} this\n */\nvar REGION = function(top, right, bottom, left){\n\n    if (!(this instanceof REGION)){\n        return newify(REGION, arguments)\n    }\n\n    EventEmitter.call(this)\n\n    if (isObject(top)){\n        copyList(top, this, ['top','right','bottom','left'])\n\n        if (top.bottom == null && top.height != null){\n            this.bottom = this.top + top.height\n        }\n        if (top.right == null && top.width != null){\n            this.right = this.left + top.width\n        }\n\n        if (top.emitChangeEvents){\n            this.emitChangeEvents = top.emitChangeEvents\n        }\n    } else {\n        this.top    = top\n        this.right  = right\n        this.bottom = bottom\n        this.left   = left\n    }\n\n    this[0] = this.left\n    this[1] = this.top\n\n    VALIDATE(this)\n}\n\ninherits(REGION, EventEmitter)\n\nassign(REGION.prototype, {\n\n    /**\n     * @cfg {Boolean} emitChangeEvents If this is set to true, the region\n     * will emit 'changesize' and 'changeposition' whenever the size or the position changs\n     */\n    emitChangeEvents: false,\n\n    /**\n     * Returns this region, or a clone of this region\n     * @param  {Boolean} [clone] If true, this method will return a clone of this region\n     * @return {Region}       This region, or a clone of this\n     */\n    getRegion: function(clone){\n        return clone?\n                    this.clone():\n                    this\n    },\n\n    /**\n     * Sets the properties of this region to those of the given region\n     * @param {Region/Object} reg The region or object to use for setting properties of this region\n     * @return {Region} this\n     */\n    setRegion: function(reg){\n\n        if (reg instanceof REGION){\n            this.set(reg.get())\n        } else {\n            this.set(reg)\n        }\n\n        return this\n    },\n\n    /**\n     * Returns true if this region is valid, false otherwise\n     *\n     * @param  {Region} region The region to check\n     * @return {Boolean}        True, if the region is valid, false otherwise.\n     * A region is valid if\n     *  * left <= right  &&\n     *  * top  <= bottom\n     */\n    validate: function(){\n        return REGION.validate(this)\n    },\n\n    _before: function(){\n        if (this.emitChangeEvents){\n            return copyList(this, {}, ['left','top','bottom','right'])\n        }\n    },\n\n    _after: function(before){\n        if (this.emitChangeEvents){\n\n            if(this.top != before.top || this.left != before.left) {\n                this.emitPositionChange()\n            }\n\n            if(this.right != before.right || this.bottom != before.bottom) {\n                this.emitSizeChange()\n            }\n        }\n    },\n\n    notifyPositionChange: function(){\n        this.emit('changeposition', this)\n    },\n\n    emitPositionChange: function(){\n        this.notifyPositionChange()\n    },\n\n    notifySizeChange: function(){\n        this.emit('changesize', this)\n    },\n\n    emitSizeChange: function(){\n        this.notifySizeChange()\n    },\n\n    /**\n     * Add the given amounts to each specified side. Example\n     *\n     *      region.add({\n     *          top: 50,    //add 50 px to the top side\n     *          bottom: -100    //substract 100 px from the bottom side\n     *      })\n     *\n     * @param {Object} directions\n     * @param {Number} [directions.top]\n     * @param {Number} [directions.left]\n     * @param {Number} [directions.bottom]\n     * @param {Number} [directions.right]\n     *\n     * @return {Region} this\n     */\n    add: function(directions){\n\n        var before = this._before()\n        var direction\n\n        for (direction in directions) if ( hasOwn(directions, direction) ) {\n            this[direction] += directions[direction]\n        }\n\n        this[0] = this.left\n        this[1] = this.top\n\n        this._after(before)\n\n        return this\n    },\n\n    /**\n     * The same as {@link #add}, but substracts the given values\n     * @param {Object} directions\n     * @param {Number} [directions.top]\n     * @param {Number} [directions.left]\n     * @param {Number} [directions.bottom]\n     * @param {Number} [directions.right]\n     *\n     * @return {Region} this\n     */\n    substract: function(directions){\n\n        var before = this._before()\n        var direction\n\n        for (direction in directions) if (hasOwn(directions, direction) ) {\n            this[direction] -= directions[direction]\n        }\n\n        this[0] = this.left\n        this[1] = this.top\n\n        this._after(before)\n\n        return this\n    },\n\n    /**\n     * Retrieves the size of the region.\n     * @return {Object} An object with {width, height}, corresponding to the width and height of the region\n     */\n    getSize: function(){\n        return {\n            width  : this.width,\n            height : this.height\n        }\n    },\n\n    /**\n     * Move the region to the given position and keeps the region width and height.\n     *\n     * @param {Object} position An object with {top, left} properties. The values in {top,left} are used to move the region by the given amounts.\n     * @param {Number} [position.left]\n     * @param {Number} [position.top]\n     *\n     * @return {Region} this\n     */\n    setPosition: function(position){\n        var width  = this.width\n        var height = this.height\n\n        if (position.left != undefined){\n            position.right  = position.left + width\n        }\n\n        if (position.top != undefined){\n            position.bottom = position.top  + height\n        }\n\n        return this.set(position)\n    },\n\n    /**\n     * Sets both the height and the width of this region to the given size.\n     *\n     * @param {Number} size The new size for the region\n     * @return {Region} this\n     */\n    setSize: function(size){\n        if (size.height != undefined && size.width != undefined){\n            return this.set({\n                right  : this.left + size.width,\n                bottom : this.top  + size.height\n            })\n        }\n\n        if (size.width != undefined){\n            this.setWidth(size.width)\n        }\n\n        if (size.height != undefined){\n            this.setHeight(size.height)\n        }\n\n        return this\n    },\n\n\n\n    /**\n     * @chainable\n     *\n     * Sets the width of this region\n     * @param {Number} width The new width for this region\n     * @return {Region} this\n     */\n    setWidth: function(width){\n        return this.set({\n            right: this.left + width\n        })\n    },\n\n    /**\n     * @chainable\n     *\n     * Sets the height of this region\n     * @param {Number} height The new height for this region\n     * @return {Region} this\n     */\n    setHeight: function(height){\n        return this.set({\n            bottom: this.top + height\n        })\n    },\n\n    /**\n     * Sets the given properties on this region\n     *\n     * @param {Object} directions an object containing top, left, and EITHER bottom, right OR width, height\n     * @param {Number} [directions.top]\n     * @param {Number} [directions.left]\n     *\n     * @param {Number} [directions.bottom]\n     * @param {Number} [directions.right]\n     *\n     * @param {Number} [directions.width]\n     * @param {Number} [directions.height]\n     *\n     *\n     * @return {Region} this\n     */\n    set: function(directions){\n        var before = this._before()\n\n        copyList(directions, this, ['left','top','bottom','right'])\n\n        if (directions.bottom == null && directions.height != null){\n            this.bottom = this.top + directions.height\n        }\n        if (directions.right == null && directions.width != null){\n            this.right = this.left + directions.width\n        }\n\n        this[0] = this.left\n        this[1] = this.top\n\n        this._after(before)\n\n        return this\n    },\n\n    /**\n     * Retrieves the given property from this region. If no property is given, return an object\n     * with {left, top, right, bottom}\n     *\n     * @param {String} [dir] the property to retrieve from this region\n     * @return {Number/Object}\n     */\n    get: function(dir){\n        return dir? this[dir]:\n                    copyList(this, {}, ['left','right','top','bottom'])\n    },\n\n    /**\n     * Shifts this region to either top, or left or both.\n     * Shift is similar to {@link #add} by the fact that it adds the given dimensions to top/left sides, but also adds the given dimensions\n     * to bottom and right\n     *\n     * @param {Object} directions\n     * @param {Number} [directions.top]\n     * @param {Number} [directions.left]\n     *\n     * @return {Region} this\n     */\n    shift: function(directions){\n\n        var before = this._before()\n\n        if (directions.top){\n            this.top    += directions.top\n            this.bottom += directions.top\n        }\n\n        if (directions.left){\n            this.left  += directions.left\n            this.right += directions.left\n        }\n\n        this[0] = this.left\n        this[1] = this.top\n\n        this._after(before)\n\n        return this\n    },\n\n    /**\n     * Same as {@link #shift}, but substracts the given values\n     * @chainable\n     *\n     * @param {Object} directions\n     * @param {Number} [directions.top]\n     * @param {Number} [directions.left]\n     *\n     * @return {Region} this\n     */\n    unshift: function(directions){\n\n        if (directions.top){\n            directions.top *= -1\n        }\n\n        if (directions.left){\n            directions.left *= -1\n        }\n\n        return this.shift(directions)\n    },\n\n    /**\n     * Compare this region and the given region. Return true if they have all the same size and position\n     * @param  {Region} region The region to compare with\n     * @return {Boolean}       True if this and region have same size and position\n     */\n    equals: function(region){\n        return this.equalsPosition(region) && this.equalsSize(region)\n    },\n\n    /**\n     * Returns true if this region has the same bottom,right properties as the given region\n     * @param  {Region/Object} size The region to compare against\n     * @return {Boolean}       true if this region is the same size as the given size\n     */\n    equalsSize: function(size){\n        var isInstance = size instanceof REGION\n\n        var s = {\n            width: size.width == null && isInstance?\n                    size.getWidth():\n                    size.width,\n\n            height: size.height == null && isInstance?\n                    size.getHeight():\n                    size.height\n        }\n        return this.getWidth() == s.width && this.getHeight() == s.height\n    },\n\n    /**\n     * Returns true if this region has the same top,left properties as the given region\n     * @param  {Region} region The region to compare against\n     * @return {Boolean}       true if this.top == region.top and this.left == region.left\n     */\n    equalsPosition: function(region){\n        return this.top == region.top && this.left == region.left\n    },\n\n    /**\n     * Adds the given ammount to the left side of this region\n     * @param {Number} left The ammount to add\n     * @return {Region} this\n     */\n    addLeft: function(left){\n        var before = this._before()\n\n        this.left = this[0] = this.left + left\n\n        this._after(before)\n\n        return this\n    },\n\n    /**\n     * Adds the given ammount to the top side of this region\n     * @param {Number} top The ammount to add\n     * @return {Region} this\n     */\n    addTop: function(top){\n        var before = this._before()\n\n        this.top = this[1] = this.top + top\n\n        this._after(before)\n\n        return this\n    },\n\n    /**\n     * Adds the given ammount to the bottom side of this region\n     * @param {Number} bottom The ammount to add\n     * @return {Region} this\n     */\n    addBottom: function(bottom){\n        var before = this._before()\n\n        this.bottom += bottom\n\n        this._after(before)\n\n        return this\n    },\n\n    /**\n     * Adds the given ammount to the right side of this region\n     * @param {Number} right The ammount to add\n     * @return {Region} this\n     */\n    addRight: function(right){\n        var before = this._before()\n\n        this.right += right\n\n        this._after(before)\n\n        return this\n    },\n\n    /**\n     * Minimize the top side.\n     * @return {Region} this\n     */\n    minTop: function(){\n        return this.expand({top: 1})\n    },\n    /**\n     * Minimize the bottom side.\n     * @return {Region} this\n     */\n    maxBottom: function(){\n        return this.expand({bottom: 1})\n    },\n    /**\n     * Minimize the left side.\n     * @return {Region} this\n     */\n    minLeft: function(){\n        return this.expand({left: 1})\n    },\n    /**\n     * Maximize the right side.\n     * @return {Region} this\n     */\n    maxRight: function(){\n        return this.expand({right: 1})\n    },\n\n    /**\n     * Expands this region to the dimensions of the given region, or the document region, if no region is expanded.\n     * But only expand the given sides (any of the four can be expanded).\n     *\n     * @param {Object} directions\n     * @param {Boolean} [directions.top]\n     * @param {Boolean} [directions.bottom]\n     * @param {Boolean} [directions.left]\n     * @param {Boolean} [directions.right]\n     *\n     * @param {Region} [region] the region to expand to, defaults to the document region\n     * @return {Region} this region\n     */\n    expand: function(directions, region){\n        var docRegion = region || REGION.getDocRegion()\n        var list      = []\n        var direction\n        var before = this._before()\n\n        for (direction in directions) if ( hasOwn(directions, direction) ) {\n            list.push(direction)\n        }\n\n        copyList(docRegion, this, list)\n\n        this[0] = this.left\n        this[1] = this.top\n\n        this._after(before)\n\n        return this\n    },\n\n    /**\n     * Returns a clone of this region\n     * @return {Region} A new region, with the same position and dimension as this region\n     */\n    clone: function(){\n        return new REGION({\n                    top    : this.top,\n                    left   : this.left,\n                    right  : this.right,\n                    bottom : this.bottom\n                })\n    },\n\n    /**\n     * Returns true if this region contains the given point\n     * @param {Number/Object} x the x coordinate of the point\n     * @param {Number} [y] the y coordinate of the point\n     *\n     * @return {Boolean} true if this region constains the given point, false otherwise\n     */\n    containsPoint: function(x, y){\n        if (arguments.length == 1){\n            y = x.y\n            x = x.x\n        }\n\n        return this.left <= x  &&\n               x <= this.right &&\n               this.top <= y   &&\n               y <= this.bottom\n    },\n\n    /**\n     *\n     * @param region\n     *\n     * @return {Boolean} true if this region contains the given region, false otherwise\n     */\n    containsRegion: function(region){\n        return this.containsPoint(region.left, region.top)    &&\n               this.containsPoint(region.right, region.bottom)\n    },\n\n    /**\n     * Returns an object with the difference for {top, bottom} positions betwen this and the given region,\n     *\n     * See {@link #diff}\n     * @param  {Region} region The region to use for diff\n     * @return {Object}        {top,bottom}\n     */\n    diffHeight: function(region){\n        return this.diff(region, {top: true, bottom: true})\n    },\n\n    /**\n     * Returns an object with the difference for {left, right} positions betwen this and the given region,\n     *\n     * See {@link #diff}\n     * @param  {Region} region The region to use for diff\n     * @return {Object}        {left,right}\n     */\n    diffWidth: function(region){\n        return this.diff(region, {left: true, right: true})\n    },\n\n    /**\n     * Returns an object with the difference in sizes for the given directions, between this and region\n     *\n     * @param  {Region} region     The region to use for diff\n     * @param  {Object} directions An object with the directions to diff. Can have any of the following keys:\n     *  * left\n     *  * right\n     *  * top\n     *  * bottom\n     *\n     * @return {Object} and object with the same keys as the directions object, but the values being the\n     * differences between this region and the given region\n     */\n    diff: function(region, directions){\n        var result = {}\n        var dirName\n\n        for (dirName in directions) if ( hasOwn(directions, dirName) ) {\n            result[dirName] = this[dirName] - region[dirName]\n        }\n\n        return result\n    },\n\n    /**\n     * Returns the position, in {left,top} properties, of this region\n     *\n     * @return {Object} {left,top}\n     */\n    getPosition: function(){\n        return {\n            left: this.left,\n            top : this.top\n        }\n    },\n\n    /**\n     * Returns the point at the given position from this region.\n     *\n     * @param {String} position Any of:\n     *\n     *  * 'cx' - See {@link #getPointXCenter}\n     *  * 'cy' - See {@link #getPointYCenter}\n     *  * 'b'  - See {@link #getPointBottom}\n     *  * 'bc' - See {@link #getPointBottomCenter}\n     *  * 'l'  - See {@link #getPointLeft}F\n     *  * 'lc' - See {@link #getPointLeftCenter}\n     *  * 't'  - See {@link #getPointTop}\n     *  * 'tc' - See {@link #getPointTopCenter}\n     *  * 'r'  - See {@link #getPointRight}\n     *  * 'rc' - See {@link #getPointRightCenter}\n     *  * 'c'  - See {@link #getPointCenter}\n     *  * 'tl' - See {@link #getPointTopLeft}\n     *  * 'bl' - See {@link #getPointBottomLeft}\n     *  * 'br' - See {@link #getPointBottomRight}\n     *  * 'tr' - See {@link #getPointTopRight}\n     *\n     * @param {Boolean} asLeftTop\n     *\n     * @return {Object} either an object with {x,y} or {left,top} if asLeftTop is true\n     */\n    getPoint: function(position, asLeftTop){\n\n        //<debug>\n        if (!POINT_POSITIONS[position]) {\n            console.warn('The position ', position, ' could not be found! Available options are tl, bl, tr, br, l, r, t, b.');\n        }\n        //</debug>\n\n        var method = 'getPoint' + POINT_POSITIONS[position],\n            result = this[method]()\n\n        if (asLeftTop){\n            return {\n                left : result.x,\n                top  : result.y\n            }\n        }\n\n        return result\n    },\n\n    /**\n     * Returns a point with x = null and y being the middle of the left region segment\n     * @return {Object} {x,y}\n     */\n    getPointYCenter: function(){\n        return { x: null, y: this.top + this.getHeight() / 2 }\n    },\n\n    /**\n     * Returns a point with y = null and x being the middle of the top region segment\n     * @return {Object} {x,y}\n     */\n    getPointXCenter: function(){\n        return { x: this.left + this.getWidth() / 2, y: null }\n    },\n\n    /**\n     * Returns a point with x = null and y the region top position on the y axis\n     * @return {Object} {x,y}\n     */\n    getPointTop: function(){\n        return { x: null, y: this.top }\n    },\n\n    /**\n     * Returns a point that is the middle point of the region top segment\n     * @return {Object} {x,y}\n     */\n    getPointTopCenter: function(){\n        return { x: this.left + this.getWidth() / 2, y: this.top }\n    },\n\n    /**\n     * Returns a point that is the top-left point of the region\n     * @return {Object} {x,y}\n     */\n    getPointTopLeft: function(){\n        return { x: this.left, y: this.top}\n    },\n\n    /**\n     * Returns a point that is the top-right point of the region\n     * @return {Object} {x,y}\n     */\n    getPointTopRight: function(){\n        return { x: this.right, y: this.top}\n    },\n\n    /**\n     * Returns a point with x = null and y the region bottom position on the y axis\n     * @return {Object} {x,y}\n     */\n    getPointBottom: function(){\n        return { x: null, y: this.bottom }\n    },\n\n    /**\n     * Returns a point that is the middle point of the region bottom segment\n     * @return {Object} {x,y}\n     */\n    getPointBottomCenter: function(){\n        return { x: this.left + this.getWidth() / 2, y: this.bottom }\n    },\n\n    /**\n     * Returns a point that is the bottom-left point of the region\n     * @return {Object} {x,y}\n     */\n    getPointBottomLeft: function(){\n        return { x: this.left, y: this.bottom}\n    },\n\n    /**\n     * Returns a point that is the bottom-right point of the region\n     * @return {Object} {x,y}\n     */\n    getPointBottomRight: function(){\n        return { x: this.right, y: this.bottom}\n    },\n\n    /**\n     * Returns a point with y = null and x the region left position on the x axis\n     * @return {Object} {x,y}\n     */\n    getPointLeft: function(){\n        return { x: this.left, y: null }\n    },\n\n    /**\n     * Returns a point that is the middle point of the region left segment\n     * @return {Object} {x,y}\n     */\n    getPointLeftCenter: function(){\n        return { x: this.left, y: this.top + this.getHeight() / 2 }\n    },\n\n    /**\n     * Returns a point with y = null and x the region right position on the x axis\n     * @return {Object} {x,y}\n     */\n    getPointRight: function(){\n        return { x: this.right, y: null }\n    },\n\n    /**\n     * Returns a point that is the middle point of the region right segment\n     * @return {Object} {x,y}\n     */\n    getPointRightCenter: function(){\n        return { x: this.right, y: this.top + this.getHeight() / 2 }\n    },\n\n    /**\n     * Returns a point that is the center of the region\n     * @return {Object} {x,y}\n     */\n    getPointCenter: function(){\n        return { x: this.left + this.getWidth() / 2, y: this.top + this.getHeight() / 2 }\n    },\n\n    /**\n     * @return {Number} returns the height of the region\n     */\n    getHeight: function(){\n        return this.bottom - this.top\n    },\n\n    /**\n     * @return {Number} returns the width of the region\n     */\n    getWidth: function(){\n        return this.right - this.left\n    },\n\n    /**\n     * @return {Number} returns the top property of the region\n     */\n    getTop: function(){\n        return this.top\n    },\n\n    /**\n     * @return {Number} returns the left property of the region\n     */\n    getLeft: function(){\n        return this.left\n    },\n\n    /**\n     * @return {Number} returns the bottom property of the region\n     */\n    getBottom: function(){\n        return this.bottom\n    },\n\n    /**\n     * @return {Number} returns the right property of the region\n     */\n    getRight: function(){\n        return this.right\n    },\n\n    /**\n     * Returns the area of the region\n     * @return {Number} the computed area\n     */\n    getArea: function(){\n        return this.getWidth() * this.getHeight()\n    },\n\n    constrainTo: function(contrain){\n        var intersect = this.getIntersection(contrain)\n        var shift\n\n        if (!intersect || !intersect.equals(this)){\n\n            var contrainWidth  = contrain.getWidth(),\n                contrainHeight = contrain.getHeight()\n\n            if (this.getWidth() > contrainWidth){\n                this.left = contrain.left\n                this.setWidth(contrainWidth)\n            }\n\n            if (this.getHeight() > contrainHeight){\n                this.top = contrain.top\n                this.setHeight(contrainHeight)\n            }\n\n            shift = {}\n\n            if (this.right > contrain.right){\n                shift.left = contrain.right - this.right\n            }\n\n            if (this.bottom > contrain.bottom){\n                shift.top = contrain.bottom - this.bottom\n            }\n\n            if (this.left < contrain.left){\n                shift.left = contrain.left - this.left\n            }\n\n            if (this.top < contrain.top){\n                shift.top = contrain.top - this.top\n            }\n\n            this.shift(shift)\n\n            return true\n        }\n\n        return false\n    },\n\n    __IS_REGION: true\n\n    /**\n     * @property {Number} top\n     */\n\n    /**\n     * @property {Number} right\n     */\n\n    /**\n     * @property {Number} bottom\n     */\n\n    /**\n     * @property {Number} left\n     */\n\n    /**\n     * @property {Number} [0] the top property\n     */\n\n    /**\n     * @property {Number} [1] the left property\n     */\n\n    /**\n     * @method getIntersection\n     * Returns a region that is the intersection of this region and the given region\n     * @param  {Region} region The region to intersect with\n     * @return {Region}        The intersection region\n     */\n\n    /**\n     * @method getUnion\n     * Returns a region that is the union of this region with the given region\n     * @param  {Region} region  The region to make union with\n     * @return {Region}        The union region. The smallest region that contains both this and the given region.\n     */\n\n})\n\nObject.defineProperties(REGION.prototype, {\n    width: {\n        get: function(){\n            return this.getWidth()\n        },\n        set: function(width){\n            return this.setWidth(width)\n        }\n    },\n    height: {\n        get: function(){\n            return this.getHeight()\n        },\n        set: function(height){\n            return this.setHeight(height)\n        }\n    }\n})\n\nrequire('./statics')(REGION)\n\nmodule.exports = REGION"],"mappings":"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"},"metadata":{},"sourceType":"script"}